// Galactic Allegiance Cannon Gauss Automation Component
// Allows the cannon_gauss part to work with AI cores

PartCrew
{
	Type = MultiToggle
	Toggles = [PartCrewMinusNone, PartCrewMinusTwo]
	Mode = Any
}

NeedsCrewMinusNone
{
	Type = MultiToggle
	Toggles = [PartCrewMinusTwo]
	Mode = Any
	Invert = True
}

// Requires 2 crew when no AI buff
PartCrewMinusNone
{
	Type = PartCrew
	Crew = 2
	DefaultPriority = &/PRIORITIES/Weapon_Crew
	PrerequisitesBeforeCrewing = [PowerToggle, NeedsCrewMinusNone]
	HighPriorityPrerequisites = [AmmoPrereq]
	CrewDestinations
	[
		[.95, 1.4]
		[2.1, 1.4]
	]
	CrewLocations
	[
		CrewLocation1
		CrewLocation2
	]
}

// No crew needed when AI buff >=2
PartCrewMinusTwo
{
	Type = BuffToggle
	BuffType = Aredja2AITerminal
	MinBuffValue = 2
}

// Second crew component
PartCrew2
{
	Type = MultiToggle
	Toggles = [PartCrew2MinusNone, PartCrew2MinusOne]
	Mode = Any
}

NeedsCrewMinusNone2
{
	Type = MultiToggle
	Toggles = [PartCrew2MinusOne]
	Mode = Any
	Invert = True
}

// Requires 1 crew when no AI buff
PartCrew2MinusNone
{
	Type = PartCrew
	Crew = 1
	DefaultPriority = &/PRIORITIES/Weapon_Crew
	PrerequisitesBeforeCrewing = [PowerToggle, NeedsCrewMinusNone2]
	HighPriorityPrerequisites = [BatteryStorage]
	CrewDestinations
	[
		[0.921875, 2.9375]
		[2.078125, 2.9375]
	]
	CrewLocations
	[
		CrewLocation3
		CrewLocation4
	]
	SwitchLocationInterval = [5, 10]
}

// No crew needed when AI buff >=1
PartCrew2MinusOne
{
	Type = BuffToggle
	BuffType = Aredja2AITerminal
	MinBuffValue = 1
}

// Crew locations from original part
CrewLocation1 { Type = CrewLocation; Location = [.95, 1.4] }
CrewLocation2 { Type = CrewLocation; Location = [2.1, 1.4] }
CrewLocation3 { Type = CrewLocation; Location = [0.921875, 2.9375] }
CrewLocation4 { Type = CrewLocation; Location = [2.078125, 2.9375] } 