// ST-AFA Federation: Torpedo Launcher AI Automation Component
// Allows the fed_torpedo_launcher_ai part to work with AI cores

PartCrew
{
	Type = MultiToggle
	Toggles = [PartCrewMinusNone, PartCrewMinusOne, NeedsCrewMinusTwo]
	Mode = Any
}

// --- Buff Level Toggles ---
NeedsCrewMinusOne // For 1 crew (buff is 1)
{
	Type = BuffToggle
	BuffType = Aredja2AITerminal
	MinBuffValue = 1
	MaxBuffValue = 1
}

NeedsCrewMinusTwo // For 0 crew (buff is 2+)
{
	Type = BuffToggle
	BuffType = Aredja2AITerminal
	MinBuffValue = 2
}

// --- Gate for Standard Crew (2 crew) ---
NeedsCrewMinusNone
{
	Type = MultiToggle
	Toggles = [NeedsCrewMinusOne, NeedsCrewMinusTwo]
	Mode = Any
	Invert = True
}

// --- Crew Configurations ---
PartCrewMinusNone // Requires 2 crew
{
	Type = PartCrew
	Crew = 2
	DefaultPriority = &/PRIORITIES/Weapon_Crew
	PrerequisitesBeforeCrewing = [PowerToggle, NeedsCrewMinusNone]
	HighPriorityPrerequisites = [MissilesPrereqProxy]
	CrewDestinations
	[
		[0.5, 3.44]
		[1.5, 3.44]
	]
	CrewLocations
	[
		CrewLocation1
		CrewLocation2
	]
}

PartCrewMinusOne // Requires 1 crew
{
	Type = PartCrew
	Crew = 1
	DefaultPriority = &/PRIORITIES/Weapon_Crew
	PrerequisitesBeforeCrewing = [PowerToggle, NeedsCrewMinusOne]
	HighPriorityPrerequisites = [MissilesPrereqProxy]
	OverridePriorityKey = PartCrewMinusNone
	CrewDestinations
	[
		[0.5, 3.44]
	]
	CrewLocations
	[
		CrewLocation1
	]
}

// Crew locations from original part
CrewLocation1 { Type = CrewLocation; Location = [0.54, 3.44] }
CrewLocation2 { Type = CrewLocation; Location = [1.46, 3.44] } 