// Pike Beam (Laser Emporium) Automation Component
// This component allows the pike beam to work with AI cores
// It replaces the standard crew requirement with AI-compatible logic

// Main PartCrew component - either uses normal crew or AI buff
PartCrew
{
	Type = MultiToggle
	Toggles = [PartCrewMinusNone, PartCrewMinusTwo]
	Mode = Any
}

// This toggle activates when no AI core buff is detected
NeedsCrewMinusNone
{
	Type = MultiToggle
	Toggles = [PartCrewMinusTwo]
	Mode = Any
	Invert = True
}

// Standard crew component used when no AI core is providing a buff
PartCrewMinusNone
{
	Type = PartCrew
	Crew = 2
	DefaultPriority = &/PRIORITIES/Weapon_Crew
	PrerequisitesBeforeCrewing = [PowerToggle, NeedsCrewMinusNone]
	HighPriorityPrerequisites = [BatteryStorage]
	CrewDestinations
	[
		[.5, 1.2]
		[2.5, 1.2]
	]
	CrewLocations
	[
		CrewLocation1
		CrewLocation2
	]
}

// Buff detector - activates when an AI terminal buff is available
// When activated, this component replaces the need for 2 crew members
PartCrewMinusTwo
{
	Type = BuffToggle
	BuffType = Aredja2AITerminal
	MinBuffValue = 2
}

// Crew locations
CrewLocation1 { Type = CrewLocation; Location = [.5, 1.2] }
CrewLocation2 { Type = CrewLocation; Location = [2.5, 1.2] } 